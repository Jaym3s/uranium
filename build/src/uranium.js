(function(){function e(a,c){var b;if(typeof a==h){var f=a,p=c.firstChild===null?{UL:"LI",DL:"DT",TR:"TD"}[c.tagName]||c.tagName:c.firstChild.tagName;b={};var d=/^<([A-Z][A-Z0-9]*)([^>]*)>([\s\S]*)<\/\1>/i,e,g;g=0;var j;if(d.test(f)){d=d.exec(f);p=d[1];if(d[2]!=="")for(f=d[2].split(/([A-Z]*\s*=\s*['|"][A-Z0-9:;#\s]*['|"])/i);g<f.length;g++)j=f[g].replace(/^\s*|\s*$/g,""),j!==""&&j!==" "&&(j=j.split("="),b[j[0]]=j[1].replace(/(["']?)/g,""));f=d[3]}p=k.createElement(p);for(e in b)g=k.createAttribute(e),
g.nodeValue=b[e],p.setAttributeNode(g);p.innerHTML=f;b=p}else b=a;return b}function g(a){var c=/\S/;a.each(function(a){for(var b=a.firstChild,f=-1,s;b;)s=b.nextSibling,b.nodeType==3&&!c.test(b.nodeValue)?a.removeChild(b):b.nodeIndex=++f,b=s})}function d(a){if(a._xuiEventID)return a._xuiEventID;return a._xuiEventID=++d.id}function c(a,b){var c=n[a]=n[a]||{};return c[b]=c[b]||[]}function b(a,b,f){var e=d(a),b=c(e,b),e=function(b){f.call(a,b)===!1&&(b.preventDefault(),b.stopPropagation())};e.guid=f.guid=
f.guid||++d.id;e.handler=f;b.push(e);return e}var a,f=this,h=new String("string"),k=f.document,o=/^#?([\w-]+)$/,l=/^#/,j=/<([\w:]+)/,i=function(a){return[].slice.call(a,0)};try{i(k.documentElement.childNodes)}catch(m){i=function(a){for(var b=[],c=0;a[c];c++)b.push(a[c]);return b}}f.x$=f.xui=a=function(b,c){return new a.fn.find(b,c)};if(![].forEach)Array.prototype.forEach=function(a,b){var c=this.length||0,f=0;if(typeof a=="function")for(;f<c;f++)a.call(b,this[f],f,this)};a.fn=a.prototype={extend:function(b){for(var c in b)a.fn[c]=
b[c]},find:function(b,c){var d=[],e;if(b)if(c==void 0&&this.length)d=this.each(function(c){d=d.concat(i(a(b,c)))}).reduce(d);else if(c=c||k,typeof b==h)o.test(b)&&c.getElementById&&c.getElementsByTagName?(d=l.test(b)?[c.getElementById(b.substr(1))]:c.getElementsByTagName(b),d[0]==null&&(d=[])):j.test(b)?(e=k.createElement("i"),e.innerHTML=b,i(e.childNodes).forEach(function(a){d.push(a)})):d=f.Sizzle!==void 0?Sizzle(b,c):c.querySelectorAll(b),d=i(d);else if(b instanceof Array)d=b;else if(b.toString()==
"[object NodeList]")d=i(b);else{if(b.nodeName||b===f)d=[b]}else return this;return this.set(d)},set:function(b){var c=a();c.cache=i(this.length?this:[]);c.length=0;[].push.apply(c,b);return c},reduce:function(a,b){var c=[],a=a||i(this);a.forEach(function(a){c.indexOf(a,0,b)<0&&c.push(a)});return c},has:function(b){var c=a(b);return this.filter(function(){var a=this,b=null;c.each(function(c){b=b||c==a});return b})},filter:function(a){var b=[];return this.each(function(c,f){a.call(c,f)&&b.push(c)}).set(b)},
not:function(b){var c=i(this);return this.filter(function(f){var d;a(b).each(function(a){return d=c[f]!=a});return d})},each:function(a){for(var b=0,c=this.length;b<c;++b)if(a.call(this[b],this[b],b,this)===!1)break;return this}};a.fn.find.prototype=a.fn;a.extend=a.fn.extend;a.extend({html:function(a,b){g(this);if(arguments.length==0)return this[0].innerHTML;arguments.length==1&&arguments[0]!="remove"&&(b=a,a="inner");if(a!="remove"&&b&&b.each!==void 0){if(a=="inner"){var c=k.createElement("p");b.each(function(a){c.appendChild(a)});
this.each(function(a){a.innerHTML=c.innerHTML})}else{var f=this;b.each(function(b){f.html(a,b)})}return this}return this.each(function(c){var f,d=0;if(a=="inner")if(typeof b==h||typeof b=="number"){c.innerHTML=b;c=c.getElementsByTagName("SCRIPT");for(f=c.length;d<f;d++)eval(c[d].text)}else c.innerHTML="",c.appendChild(b);else a=="outer"?c.parentNode.replaceChild(e(b,c),c):a=="top"?c.insertBefore(e(b,c),c.firstChild):a=="bottom"?c.insertBefore(e(b,c),null):a=="remove"?c.parentNode.removeChild(c):a==
"before"?c.parentNode.insertBefore(e(b,c.parentNode),c):a=="after"&&c.parentNode.insertBefore(e(b,c.parentNode),c.nextSibling)})},attr:function(a,b){if(arguments.length==2)return this.each(function(c){a=="checked"&&(b==""||b==!1||typeof b=="undefined")?c.removeAttribute(a):c.setAttribute(a,b)});else{var c=[];this.each(function(b){b=b.getAttribute(a);b!=null&&c.push(b)});return c}}});"inner outer top bottom remove before after".split(" ").forEach(function(b){a.fn[b]=function(a){return function(b){return this.html(a,
b)}}(b)});a.events={};var n={};a.extend({on:function(f,e,h){return this.each(function(g){if(a.events[f]){var j=d(g),j=c(j,f);h=h||{};h.handler=function(b,c){a.fn.fire.call(a(this),f,c)};j.length||a.events[f].call(g,h)}g.addEventListener(f,b(g,f,e),!1)})},un:function(a,b){return this.each(function(f){for(var e=d(f),h=c(e,a),g=h.length;g--;)if(b===void 0||b.guid===h[g].guid){f.removeEventListener(a,h[g],!1);var j=n[e][a],i=g,k=j.slice(2);j.length=i<0?j.length+i:i;j.push.apply(j,k)}n[e][a].length===
0&&delete n[e][a];for(var m in n[e])return;delete n[e]})},fire:function(a,b){return this.each(function(c){if(c==k&&!c.dispatchEvent)c=k.documentElement;var f=k.createEvent("HTMLEvents");f.initEvent(a,!0,!0);f.data=b||{};f.eventName=a;c.dispatchEvent(f)})}});"click load submit touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend orientationchange".split(" ").forEach(function(b){a.fn[b]=function(a){return function(b){return b?this.on(a,b):this.fire(a)}}(b)});a(f).on("load",
function(){"onorientationchange"in k.body||function(b,c){a(f).on("resize",function(){var d=f.innerWidth<b&&f.innerHeight>c&&f.innerWidth<f.innerHeight,e=f.innerWidth>b&&f.innerHeight<c&&f.innerWidth>f.innerHeight;if(d||e)f.orientation=d?0:90,a("body").fire("orientationchange"),b=f.innerWidth,c=f.innerHeight})}(f.innerWidth,f.innerHeight)});var q;try{q=!!k.createEvent("TouchEvent").initTouchEvent}catch(v){q=!1}a.touch=q;d.id=1;a.extend({tween:function(a,b){a instanceof Array&&a.forEach(function(){});
var c=function(){var b={};"duration after easing".split(" ").forEach(function(c){a[c]&&(b[c]=a[c],delete a[c])});return b}(a),f=function(a){var b=[],c;if(typeof a!=h){for(c in a)b.push(c+":"+a[c]);b=b.join(";")}else b=a;return b}(a);return this.each(function(a){emile(a,f,c,b)})}});var t=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;a.extend({setStyle:function(a,b){a=a.replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()});return this.each(function(c){c.style[a]=b})},getStyle:function(a,b){var c=function(a,b){return k.defaultView.getComputedStyle(a,
"").getPropertyValue(b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}))};if(b===void 0){var f=[];this.each(function(b){f.push(c(b,a))});return f}else this.each(function(f){b(c(f,a))})},addClass:function(a){return this.each(function(b){if(r(a).test(b.className)===!1)b.className=(b.className+" "+a||"").replace(t,"")})},hasClass:function(a,b){var c=this;return this.length&&function(){var f=!1;c.each(function(c){r(a).test(c.className)&&(f=!0,b&&b(c))});return f}()},removeClass:function(a){if(a===
void 0)this.each(function(a){a.className=""});else{var b=r(a);this.each(function(a){var c;c=(a.className.replace(b,"$1")||"").replace(t,"");a.className=c})}return this},css:function(a){for(var b in a)this.setStyle(b,a[b]);return this}});var u={},r=function(a){var b=u[a];b||(b=RegExp("(^|\\s+)"+a+"(?:\\s+|$)"),u[a]=b);return b};a.extend({xhr:function(a,b,c){function f(){h.readyState==4&&(delete e.xmlHttpRequest,(h.status===0||h.status==200)&&h.handleResp(),/^[45]/.test(h.status)&&h.handleError())}
/^(inner|outer|top|bottom|before|after)$/.test(a)||(c=b,b=a,a="inner");var d=c?c:{};if(typeof c=="function")d={},d.callback=c;var e=this,h=new XMLHttpRequest,c=d.method||"get",g=d.async||!1,j=d.data||null,i=0;h.queryString=j;h.open(c,b,g);if(d.headers)for(;i<d.headers.length;i++)h.setRequestHeader(d.headers[i].name,d.headers[i].value);h.handleResp=d.callback!=null?d.callback:function(){e.html(a,this.responseText)};h.handleError=d.error&&typeof d.error=="function"?d.error:function(){};if(g)h.onreadystatechange=
f,this.xmlHttpRequest=h;h.send(j);g||f();return this}});(function(a,b){function c(a,b,f){return(a+(b-a)*f).toFixed(3)}function f(a,b,c){for(var d=2,e,h,g=[],j=[];e=3,h=arguments[d-1],d--;)if(h.substr(0,1)=="r")for(h=h.match(/\d+/g);e--;)g.push(~~h[e]);else for(h.length==4&&(h="#"+h.substr(1,1)+h.substr(1,1)+h.substr(2,1)+h.substr(2,1)+h.substr(3,1)+h.substr(3,1));e--;)g.push(parseInt(h.substr(1+e*2,2),16));for(;e--;)d=~~(g[e+3]+(g[e]-g[e+3])*c),j.push(d<0?0:d>255?255:d);return"rgb("+j.join(",")+")"}
function d(a){var b=parseFloat(a),a=a.replace(/^[\-\d\.]+/,"");return isNaN(b)?{v:a,f:f,u:""}:{v:b,f:c,u:a}}function e(a){var b={},c=g.length,f;h.innerHTML='<div style="'+a+'"></div>';for(a=h.childNodes[0].style;c--;)if(f=a[g[c]])b[g[c]]=d(f);return b}var h=k.createElement("div"),g="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
b[a]=function(a,b,c,f){var a=typeof a=="string"?k.getElementById(a):a,c=c||{},h=e(b),b=a.currentStyle?a.currentStyle:getComputedStyle(a,null),g,j={},i=+new Date,m=c.duration||200,n=i+m,l,o=c.easing||function(a){return-Math.cos(a*Math.PI)/2+0.5};for(g in h)j[g]=d(b[g]);l=setInterval(function(){var b=+new Date,d=b>n?1:(b-i)/m;for(g in h)a.style[g]=h[g].f(j[g].v,h[g].v,o(d))+h[g].u;b>n&&(clearInterval(l),c.after&&c.after(),f&&setTimeout(f,1))},10)}})("emile",this)})();typeof Ur=="undefined"&&(Ur={QuickLoaders:{},WindowLoaders:{},Widgets:{},onLoadCallbacks:[],setup:function(e){Ur.initialize({type:"DOMContentLoaded"},e);Ur.loaded?Ur.initialize({type:"load"},e):window.addEventListener("load",function(g){Ur.initialize(g,e)},!1)},initialize:function(e,g){var d=e.type=="DOMContentLoaded"?Ur.QuickLoaders:Ur.WindowLoaders;if(g===void 0)g=document.body;for(var c in d)(new d[c]).initialize(g);if(e.type=="load")Ur.loaded=!0,Ur._onLoad()},_onLoad:function(){x$().iterate(Ur.onLoadCallbacks,
function(e){e()})},loaded:!1});window.addEventListener("load",Ur.initialize,!1);window.addEventListener("DOMContentLoaded",Ur.initialize,!1);
var mixins={iterate:function(e,g){if(e!==void 0){var d=e.length||0,c=0;if(typeof g=="function")for(;c<d;c++)g.call(g,e[c],c,e)}},offset:function(e){typeof(e=="undefined")&&(e=this[0]);for(cumulative_left=cumulative_top=0;e.offsetParent;)cumulative_top+=e.offsetTop,cumulative_left+=e.offsetLeft,e=e.offsetParent;return{left:cumulative_left,top:cumulative_top}},find_next_ancestor:function(e,g){return e.parentNode!=window.document?x$().find_set_ancestor(e.parentNode,g):null},find_set_ancestor:function(e,
g){var d=x$(e).attr("data-ur-set")[0];return d!==void 0?g==void 0?e:d==g?e:x$().find_next_ancestor(e,g):x$().find_next_ancestor(e,g)},get_unique_uranium_id:function(){var e=0;return function(){e+=1;return e}}(),find_elements:function(e,g){var d={};this.each(function(c,b,a){return function(){x$().helper_find(this,c,b,a)}}(e,g,d));return d},helper_find:function(e,g,d,c){x$(e).find("*[data-ur-"+g+"-component]").each(function(){var b=!0,a=x$(this).attr("data-ur-id")[0];if(a!==void 0)c[a]===void 0&&(c[a]=
{});else{var f=x$().find_set_ancestor(this,g);if(x$(f).attr("data-ur-state")[0]==="disabled"&&Ur.loaded==!1)return;f!==null?(a=x$(f).attr("data-ur-id")[0],a===void 0&&(a=x$().get_unique_uranium_id(),x$(f).attr("data-ur-id",a)),c[a]===void 0&&(c[a]={}),c[a].set=f):(console.log("Uranium Error: Couldn't find associated ur-set for component:",this),b=!1)}f=x$(this).attr("data-ur-"+g+"-component");f===void 0&&(b=!1);if(b)if(d!==void 0&&d[f]!==void 0)d[f](c[a],this,f);else c[a][f]=this});return c}};xui.extend(mixins);Ur.WindowLoaders.carousel=function(){function e(a){this.container=a.view_container;this.items=a.scroll_container;if(this.items.length==0)return console.log("Error -- carousel missing item components"),!1;this.button=a.button===void 0?{}:a.button;this.count=a.count;this.multi=x$(a.view_container).attr("data-ur-type")[0]=="multi";this.vertical_scroll=x$(a.set).attr("data-ur-vertical-scroll")[0]==="enabled";this.initialize();this.onSlideCallbacks=[]}function g(a){var a=x$(a),b=0;x$().iterate(["width",
"padding-left","padding-right","margin-left","margin-right","border-left-width","border-right-width"],function(c){b+=parseInt(a.getStyle(c))});return b}function d(a,b){a.style.webkitTransform="translate3d("+b+"px, 0px, 0px)"}function c(){}e.prototype={initialize:function(){var a=x$(this.container).attr("data-ur-touch")[0],a=a===void 0?!0:a=="enabled"?!0:!1;x$(this.container).attr("data-ur-touch",a?"enabled":"disabled");if(a)xui.touch?(this.touch=!0,x$(this.items).on("touchstart",function(a){return function(b){a.start_swipe(b)}}(this)),
x$(this.items).on("touchmove",function(a){return function(b){a.continue_swipe(b)}}(this)),x$(this.items).on("touchend",function(a){return function(b){a.finish_swipe(b)}}(this))):(this.touch=!1,x$(this.items).on("mousedown",function(a){return function(b){a.start_swipe(b)}}(this)),x$(this.items).on("mousemove",function(a){return function(b){a.continue_swipe(b)}}(this)),x$(this.items).on("mouseup",function(a){return function(b){a.finish_swipe(b)}}(this)));x$(this.button.prev).on("click",function(a){return function(){a.move_to(a.magazine_count)}}(this));
x$(this.button.next).on("click",function(a){return function(){a.move_to(-a.magazine_count)}}(this));this.item_index=0;this.magazine_count=1;this.adjust_spacing();this.update_index(0);this.jump_to_index=function(a){return function(b){a.__proto__.move_to_index.call(a,b)}}(this);window.setInterval(function(a){return function(){a.resize()}}(this),1E3)},get_transform:function(a){a=window.getComputedStyle(a).webkitTransform;return a!="none"?(a=new WebKitCSSMatrix(a),a.m41):(console.log("no webkit transform"),
0)},resize:function(){this.snap_width!=this.container.offsetWidth&&this.adjust_spacing()},adjust_spacing:function(){var a=this.container.offsetWidth;if(!(this.old_width!==void 0&&this.old_width==a)){this.old_width=a;var b=0,c=x$(this.items).find("[data-ur-carousel-component='item']");this.item_count=c.length;var e=0;x$().iterate(c,function(a){e+=g(a)});this.items.style.width=e+"px";this.snap_width=a;if(this.multi){var o=g(c[0]),l=Math.floor(a/o);this.magazine_count=l=l>this.item_count?this.item_count:
l;var j=a-l*o;this.snap_width=j/(l-1)+o;this.last_index=this.item_count-this.magazine_count}else this.last_index=this.item_count-1;this.item_index=this.last_index<this.item_index?this.last_index:this.item_index;b-=this.snap_width*this.item_index;d(this.items,b);var i=0;this.multi?(x$().iterate(c,function(a,b){var c=i;b!=0&&(c+=j/(l-1));d(a,c);i=c}),this.update_index(this.item_index)):x$().iterate(c,function(b,f){var e=i;f!=0&&(e+=a-c[f-1].offsetWidth);d(b,e);i=e})}},get_event_coordinates:function(a){if(this.touch){if(a.touches.length==
1)return{x:a.touches[0].clientX,y:a.touches[0].clientY}}else return{x:a.clientX,y:a.clientY};return null},update_buttons:function(){this.item_index==0?(x$(this.button.prev).attr("data-ur-state","disabled"),x$(this.button.next).attr("data-ur-state","enabled")):(this.item_index==this.last_index?x$(this.button.next).attr("data-ur-state","disabled"):x$(this.button.next).attr("data-ur-state","enabled"),x$(this.button.prev).attr("data-ur-state","enabled"))},get_new_index:function(a){a=this.item_index-a;
a>this.last_index?a=this.last_index:a<0&&(a=0);return a},update_index:function(a){if(a!==void 0){this.item_index=a;if(this.item_index<0)this.item_index=0;else if(this.item_index>this.last_index)this.item_index=this.last_index-1;if(this.count!==void 0)this.count.innerHTML=this.multi?this.item_index+1+" to "+(this.item_index+this.magazine_count)+" of "+this.item_count:this.item_index+1+" of "+this.item_count;x$(this.items).find("*[data-ur-carousel-component='item'][data-ur-state='active']").attr("data-ur-state",
"inactive");a=x$(this.items).find("*[data-ur-carousel-component='item']")[this.item_index];x$(a).attr("data-ur-state","active");this.update_buttons()}},start_swipe:function(a){this.touch_in_progress=!0;a=this.get_event_coordinates(a);if(a!==null){var b=this.get_transform(this.items);this.starting_offset=this.starting_offset===void 0||this.starting_offset===null?b:this.destination_offset;this.start_pos=a}this.click=!0},continue_swipe:function(a){this.vertical_scroll||(a.preventDefault(),a.stopPropagation());
if(this.touch_in_progress){a=this.get_event_coordinates(a);if(a!==null)this.end_pos=a,a=this.swipe_dist()+this.starting_offset,d(this.items,a);this.click=!1}},finish_swipe:function(a){if(!this.click)a.preventDefault(),a.stopPropagation(),this.touch_in_progress=!1,(!this.touch||a.touches.length==0)&&this.move_helper(this.get_displacement_index())},get_displacement_index:function(){var a=this.swipe_dist(),b=0;this.multi?(b=this.magazine_count,b=1/(1+Math.pow(Math.E,-1*a))*b-b/2<=0?Math.floor(1/(1+Math.pow(Math.E,
-1*a))*b-b/2):Math.ceil(1/(1+Math.pow(Math.E,-1*a))*b-b/2)):b=a/this.snap_width<=0?Math.floor(a/this.snap_width):Math.ceil(a/this.snap_width);return b},snap_to:function(a){this.destination_offset=a+this.starting_offset;a=-1*this.last_index*this.snap_width;if(this.destination_offset<a||this.destination_offset>0)this.destination_offset=Math.abs(this.destination_offset-a)<1?a:this.starting_offset;this.momentum()},move_to:function(a){if(!this.increment_flag)this.starting_offset=this.get_transform(this.items),
this.move_helper(a)},move_helper:function(a){var a=this.get_new_index(a),b=x$(this.items).find("*[data-ur-carousel-component='item']")[a],c=x$(this.items).find("*[data-ur-carousel-component='item']")[this.item_index],d=this.get_transform(c)-this.get_transform(b);this.snap_to(c.offsetLeft-b.offsetLeft+d);this.update_index(a)},move_to_index:function(a){this.move_to(this.item_index-a)},momentum:function(){if(!this.touch_in_progress){this.increment_flag=!1;var a=this.get_transform(this.items),b=this.destination_offset-
a;b-=b/1.1>=0?Math.floor(b/1.1):Math.ceil(b/1.1);Math.abs(b)<0.01&&(b=0);d(this.items,b+a);if(b!=0)this.increment_flag=!0;this.increment_flag?setTimeout(function(a){return function(){a.momentum()}}(this),16):(this.starting_offset=null,x$().iterate(this.onSlideCallbacks,function(a){a()}))}},swipe_dist:function(){if(this.end_pos===void 0)return 0;return this.end_pos.x-this.start_pos.x}};var b={button:function(a,b,c){a.button===void 0&&(a.button={});c=x$(b).attr("data-ur-carousel-button-type")[0];c===
void 0&&console.log("Uranium declaration error: Malformed carousel button type on:"+b.outerHTML);a.button[c]=b;c=="prev"?x$(b).attr("data-ur-state","disabled"):x$(b).attr("data-ur-state","enabled")}};c.prototype.initialize=function(a){a=x$(a).find_elements("carousel",b);Ur.Widgets.carousel={};for(var c in a){var d=a[c];Ur.Widgets.carousel[c]=new e(d);x$(d.set).attr("data-ur-state","enabled")}};return c}();Ur.QuickLoaders.geocode=function(){function e(a){this.elements=a;UrGeocode=function(a){return function(){a.setup_callbacks()}}(this);a=document.createElement("script");a.type="text/javascript";a.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=UrGeocode";x$("head").html("bottom",a)}function g(a,b,c){var d=0,f=null;switch(a){case "rg-city":d=2;break;case "rg-street":d=0;f=1;break;case "rg-zip":d=7;break;case "rg-state":d=5;break;case "rg-country":d=6}if(c==="input")l.elements[a].value=
f===null?b[0].address_components[d].long_name:b[0].address_components[d].long_name+" "+b[0].address_components[f].long_name;else if(c==="select"){a=l.elements[a];b=b[0].address_components[d];d=0;for(c=a.length;d<c;d++)if(a[d].value===b.long_name||a[d].value.toUpperCase()===b.short_name)a.selectedIndex=d}}function d(a,b){var c=new google.maps.LatLng(a,b);k.geocode({latLng:c},function(a,b){if(b==google.maps.GeocoderStatus.OK)if(a[1]){var c=o=a,d=l.elements;for(elm in d)d[elm].localName==="input"?g(elm,
c,"input"):g(elm,c,"select");return a}else console.error("Geocoder failed due to: "+b)})}function c(a){a={lat:a.coords.latitude,lng:a.coords.longitude};d(a.lat,a.lng)}function b(a){console.error("Ur geolocation error -- Error Getting Your Coordinates!");switch(a.code){case a.TIMEOUT:console.error("Ur geolocation error -- Timeout");break;case a.POSITION_UNAVAILABLE:console.error("Ur geolocation error -- Position unavailable");break;case a.PERMISSION_DENIED:console.error("Ur geolocation error -- Permission denied");
break;case a.UNKNOWN_ERROR:console.error("Ur geolocation error -- Unknown error")}}function a(){console.error("Ur geolocation error -- User Denied Geolocation")}function f(){navigator.geolocation&&(k=new google.maps.Geocoder,navigator.geolocation.getCurrentPosition(c,b,a))}function h(){}var k,o,l;e.prototype.setup_callbacks=function(){l=this;if(this.elements["rg-button"])x$(this.elements["rg-button"]).on("click",function(){f()});else console.warn("Ur warning -- no button for triggering reverse geocoding present"),
f()};h.prototype.initialize=function(a){a=x$(a).find_elements("reverse-geocode");Ur.Widgets.geocode={};for(var b in a){Ur.Widgets.geocode[b]=new e(a[b]);break}};return h}();Ur.QuickLoaders.map=function(){function e(b,a){this.threshold=b;this.count=0;this.callbacks=[];a!==void 0&&this.callbacks.push(a)}function g(b){this.elements=b;this.fetch_map()}function d(){}e.prototype.finish=function(){this.count+=1;if(this.count==this.threshold)for(var b=this.callbacks.pop();b;)b(),b=this.callbacks.pop()};g.prototype={marker_clicked:function(b,a){x$().iterate(this.elements.descriptions,function(b,c){c==a?x$(b).attr("data-ur-state","enabled"):x$(b).attr("data-ur-state","disabled")})},
fetch_coordinates:function(){this.coordinates=[];this.center=[0,0];this.lat_range={};this.lng_range={};var b=new google.maps.Geocoder,a=this,c=new e(this.elements.addresses.length,function(a){return function(){a.setup_map()}}(this));x$(this.elements.addresses).each(function(d,e){var d=d.innerText,g=d.match(/(\S.*\S)[$\s]/m)[1];g==void 0&&(g=d);b.geocode({address:g},function(b,g){var i=null;if(g===google.maps.GeocoderStatus.OK){i=b[0].geometry.location;a.coordinates[e]=i;a.center[0]+=i.lat();a.center[1]+=
i.lng();var i=b[0].geometry.viewport.getNorthEast(),m=b[0].geometry.viewport.getSouthWest();if(a.lat_range.min&&a.lat_range.min>m.lat()||a.lat_range.min===void 0)a.lat_range.min=m.lat();if(a.lat_range.max&&a.lat_range.max<m.lat()||a.lat_range.max===void 0)a.lat_range.max=i.lat();if(a.lng_range.min&&a.lng_range.min>m.lng()||a.lng_range.min===void 0)a.lng_range.min=m.lng();if(a.lng_range.max&&a.lng_range.max<m.lng()||a.lng_range.max===void 0)a.lng_range.max=i.lng();c.finish()}else console.error("Error geocoding address: "+
d)})})},add_coordinates:function(){var b=this,a=x$(this.elements.icon).attr("data-ur-url")[0],c=x$(this.elements.icon).attr("data-ur-width")[0],d=x$(this.elements.icon).attr("data-ur-height")[0],e=null;c!==void 0&&d!==void 0&&(e=new google.maps.Size(parseInt(c),parseInt(d)));x$().iterate(b.coordinates,function(c,d){var f=null;a!==void 0&&(f=new google.maps.MarkerImage(a,null,null,null,e));f=new google.maps.Marker({position:c,map:b.map,icon:f});google.maps.event.addListener(f,"click",function(a){return function(c){b.marker_clicked(c,
a)}}(d))})},setup_user_location:function(){var b=this.elements.user_location;this.user_location_marker=null;if(b!==void 0){var a=this;x$(b).on("click",function(){a.toggle_user_location()});x$(b).attr("data-ur-state")[0]==="enabled"&&this.fetch_user_location()}},fetch_user_location:function(){var b=function(a){return function(b){a.add_user_location(b)}}(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(b,function(){console.error("Ur : Error getting user location")}):console.error("Ur : Geolocation services not available")},
add_user_location:function(b){b=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);this.user_location_marker=new google.maps.Marker({position:b,map:this.map,icon:"//s3.amazonaws.com/moovweb-live-resources/map/dot-blue.png"});x$(this.elements.user_location).attr("data-ur-state","enabled")},toggle_user_location:function(){this.user_location_marker===null||this.user_location_marker===void 0?this.fetch_user_location():(this.user_location_marker.setMap(null),delete this.user_location_marker,
x$(this.elements.user_location).attr("data-ur-state","disabled"))},fetch_map:function(){var b=document.createElement("script");setup_uranium_map=function(a){return function(){a.fetch_coordinates()}}(this);b.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=setup_uranium_map";this.elements.set.appendChild(b)},setup_map:function(){this.center[0]/=this.elements.addresses.length;this.center[1]/=this.elements.addresses.length;var b={center:new google.maps.LatLng(this.center[0],this.center[1]),
mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.elements.canvas,b);var b=new google.maps.LatLng(this.lat_range.min,this.lng_range.min),a=new google.maps.LatLng(this.lat_range.max,this.lng_range.max);this.map.fitBounds(new google.maps.LatLngBounds(b,a));this.add_coordinates();this.setup_user_location()}};var c={address:function(b,a){b.addresses===void 0&&(b.addresses=[]);b.addresses.push(a)},description:function(b,a){b.descriptions===void 0&&(b.descriptions=[]);b.descriptions.push(a)}};
d.prototype.initialize=function(b){b=x$(b).find_elements("map",c);Ur.Widgets.map={};for(var a in b){Ur.Widgets.map[a]=new g(b[a]);break}};return d}();Ur.QuickLoaders["select-buttons"]=function(){function e(d){this.select=d.select;this.increment=d.increment;this.decrement=d.decrement;this.initialize()}function g(){}e.prototype.initialize=function(){x$(this.increment).click(function(d){return function(c){d.trigger_option(c,1)}}(this));x$(this.decrement).click(function(d){return function(c){d.trigger_option(c,-1)}}(this))};e.prototype.trigger_option=function(d,c){if(x$(d.currentTarget).attr("data-ur-state")[0]==="disabled")return!1;var b={},a=this.select.value,
f={prev:null,next:null};x$().iterate(this.select.children,function(c,d){x$(c).attr("value")[0]==a&&(b={element:c,index:d});typeof b.index=="undefined"&&(f.prev=x$(c).attr("value")[0]);d==b.index+1&&(f.next=x$(c).attr("value")[0])});var e=this.select.children.length,g=b.index+c;g==0?x$(this.decrement).attr("data-ur-state","disabled"):x$(this.decrement).attr("data-ur-state","enabled");g==e-1?x$(this.increment).attr("data-ur-state","disabled"):x$(this.increment).attr("data-ur-state","enabled");if(g<
0||g==e)return!1;this.select.value=f[c==1?"next":"prev"];return!0};g.prototype.initialize=function(d){var d=x$(d).find_elements("select-buttons"),c;for(c in d)new e(d[c]),x$(d[c].set).attr("data-ur-state","enabled")};return g}();Ur.QuickLoaders["select-list"]=function(){function e(d,c){this.select=d;this.list=c;this.initialize()}function g(){this.SelectLists={}}e.prototype.initialize=function(){x$(this.list).click(function(d){return function(c){d.trigger_option(c)}}(this))};e.prototype.trigger_option=function(d){var c=d.target,b="";x$().iterate(this.list.children,function(a){a==c?(x$(a).attr("data-ur-state","enabled"),b=x$(a).attr("value")):x$(a).attr("data-ur-state","disabled")});this.select.value=b;return!0};g.prototype.initialize=
function(d){var d=x$(d).find_elements("select-list"),c;for(c in d){var b=d[c];this.SelectLists[c]=new e(d[c].select,d[c].content);x$(b.set).attr("data-ur-state","enabled")}};return g}();Ur.QuickLoaders.tabs=function(){function e(c){this.elements=c;this.setup_callbacks()}function g(){}e.prototype.setup_callbacks=function(){var c=null,b;for(b in this.elements.buttons){var a=this.elements.buttons[b],d=this.elements.contents[b];c===null&&(c=b);if(d===void 0){console.log("Ur error -- no matching tab content for tab button");break}d=x$(a).attr("data-ur-state")[0];d!==void 0&&d=="enabled"&&(c=-1);var e=x$(this.elements.set).attr("data-ur-closeable")[0],e=e!==void 0&&e=="true"?!0:!1;console.log("closeable? "+
e);var g=this;x$(a).on("click",function(a){var a=x$(a.target).attr("data-ur-tab-id")[0],b;for(b in g.elements.buttons){var c=g.elements.buttons[b],d=g.elements.contents[b];if(b!==a)x$(c).attr("data-ur-state","disabled"),x$(d).attr("data-ur-state","disabled");else{var f="enabled";e&&(f=x$(c).attr("data-ur-state")[0],f=f===void 0?"disabled":f,f=f=="enabled"?"disabled":"enabled");x$(c).attr("data-ur-state",f);x$(d).attr("data-ur-state",f)}}})}};var d={button:function(c,b){c.buttons===void 0&&(c.buttons=
{});var a=x$(b).attr("data-ur-tab-id")[0];a===void 0?console.log("Uranium declaration error -- Tab defined without a tab-id"):c.buttons[a]=b},content:function(c,b){c.contents===void 0&&(c.contents={});var a=x$(b).attr("data-ur-tab-id")[0];a===void 0?console.log("Uranium declaration error -- Tab defined without a tab-id"):c.contents[a]=b}};g.prototype.initialize=function(c){c=x$(c).find_elements("tabs",d);Ur.Widgets.tabs={};for(var b in c)Ur.Widgets.tabs[b]=new e(c[b])};return g}();Ur.QuickLoaders.toggler=function(){function e(d,c){d.content===void 0&&(d.content=[]);d.content.push(c)}function g(){this.component_constructors={content:e}}g.prototype.find=function(d){var d=x$(d).find_elements("toggler",this.component_constructors),c;for(c in d){var b=d[c];if(b.button===void 0)console.log("Uranium Declaration Error: No button found for toggler with id="+c);else{var a=x$(b.button).attr("data-ur-state")[0];a===void 0&&(x$(b.button).attr("data-ur-state","disabled"),a="disabled");b.content===
void 0?console.log("Uranium Declaration Error: No content found for toggler with id="+c):x$().iterate(b.content,function(b){x$(b).attr("data-ur-state")[0]===void 0&&x$(b).attr("data-ur-state",a)})}}return d};g.prototype.construct_button_callback=function(d,c){return function(b){var b=b.currentTarget,a=x$(b).attr("data-ur-state")[0]==="enabled"?"disabled":"enabled";x$(b).attr("data-ur-state",a);x$(c).attr("data-ur-state",a);x$().iterate(d,function(a){var b=x$(a).attr("data-ur-state")[0]==="enabled"?
"disabled":"enabled";x$(a).attr("data-ur-state",b)})}};g.prototype.initialize=function(d){var d=this.find(d),c;for(c in d){var b=d[c];x$(b.button).click(this.construct_button_callback(b.content,b.set));x$(b.set).attr("data-ur-state","enabled")}};return g}();Ur.QuickLoaders["zoom-preview"]=function(){function e(c){this.elements=c.elements;this.modifier={};if(c.modifier!==null)this.modifier=c.modifier;this.dimensions={};this.zoom=!1;this.update();this.events={start:"touchstart",move:"touchmove",end:"touchend"};this.touch=xui.touch;if(!this.touch)this.events={move:"mousemove",end:"mouseout"};this.initialize();console.log("Zoom Preview Loaded")}function g(){}e.prototype.rewrite_images=function(c,b,a){if(typeof c=="undefined")return!1;if(b===void 0&&a===
void 0)b=this.modifier.zoom_image.match,a=this.modifier.zoom_image.replace;this.elements.zoom_image.src=c.replace(b,a);b=a=null;if(this.modifier.button)b=this.modifier.button.match,a=this.modifier.button.replace;this.elements.button.src=b&&a?this.elements.zoom_image.src.replace(b,a):this.elements.zoom_image.src;var d=this;this.elements.zoom_image.style.visibility="hidden";x$(this.elements.zoom_image).on("load",function(){d.update()});x$(this.elements.button).on("load",function(){x$(d.elements.button).addClass("loaded")})};
e.prototype.update=function(){var c=this;x$().iterate(["button","zoom_image","container"],function(a){c.dimensions[a]=[c.elements[a].offsetWidth,c.elements[a].offsetHeight]});var b=x$(this.elements.button).offset(),b=[b.left,b.top];this.button_center=[this.dimensions.button[0]/2+b[0],this.dimensions.button[1]/2+b[1]];this.image_origin=[-0.5*this.dimensions.zoom_image[0],-0.5*this.dimensions.zoom_image[1]]};e.prototype.get_event_coordinates=function(c){if(this.touch){if(c.touches.length==1)return[c.touches[0].pageX,
c.touches[0].pageY]}else return[c.pageX,c.pageY]};e.prototype.initialize=function(){x$(this.elements.button).on(this.events.move,function(c){return function(b){c.scroll_zoom(b)}}(this));x$(this.elements.button).on(this.events.end,function(c){return function(b){c.scroll_end(b)}}(this));if(this.events.start)x$(this.elements.button).on("touchstart",function(){return function(c){c.preventDefault()}}(this));x$(this.elements.thumbnails).click(function(c){return function(b){if(b.target.tagName!="IMG")return!1;
c.rewrite_images(b.target.src)}}(this));this.normal_image_changed()};e.prototype.normal_image_changed=function(c){c!==void 0&&(this.elements.normal_image=c);img=x$(this.elements.normal_image);this.rewrite_images(img.attr("src")[0],this.modifier.normal_image.match,this.modifier.normal_image.replace)};e.prototype.scroll_end=function(){this.elements.zoom_image.style.visibility="hidden"};e.prototype.scroll_zoom=function(c){this.elements.zoom_image.style.visibility="visible";c=this.get_event_coordinates(c);
if(c===null)return!1;c=[(c[0]-this.button_center[0])/this.dimensions.button[0],(c[1]-this.button_center[1])/this.dimensions.button[1]];c=[this.dimensions.zoom_image[0]*c[0],this.dimensions.zoom_image[1]*c[1]];c=[this.image_origin[0]-c[0],this.image_origin[1]-c[1]];c=this.check_bounds(c);this.elements.zoom_image.style.webkitTransform="translate3d("+c[0]+"px,"+c[1]+"px,0px)"};e.prototype.check_bounds=function(c){var b=[this.dimensions.container[0]-this.dimensions.zoom_image[0],this.dimensions.container[1]-
this.dimensions.zoom_image[1]];x$().iterate([0,1],function(a){c[a]>=0&&(c[a]=0);c[a]<=b[a]&&(c[a]=b[a])});return c};var d={_modifiers:function(c,b,a,d){c.modifier===void 0&&(c.modifier={});var e=d===void 0?"src":"zoom";console.log("searching for modifier:",e,b);d=x$(b).attr("data-ur-"+e+"-modifier-match")[0];b=x$(b).attr("data-ur-"+e+"-modifier-replace")[0];typeof d!="undefined"&&typeof b!="undefined"&&(console.log("found modifiers:",d,b),c.modifier[a]={match:RegExp(d),replace:b})},_construct:function(c,
b,a,d){c.elements===void 0&&(c.elements={});c.elements[a]=b;this._modifiers(c,b,a,d)},normal_image:function(c,b,a){this._construct(c,b,a,"zoom")},zoom_image:function(c,b,a){this._construct(c,b,a)},button:function(c,b,a){this._construct(c,b,a)},container:function(c,b,a){this._construct(c,b,a)},thumbnails:function(c,b,a){this._construct(c,b,a)}};g.prototype.initialize=function(c){this.zoom_previews=x$(c).find_elements("zoom-preview",d);Ur.Widgets["zoom-preview"]={};for(var b in this.zoom_previews)Ur.Widgets["zoom-preview"][b]=
new e(this.zoom_previews[b]),x$(this.zoom_previews[b].set).attr("data-ur-state","enabled")};return g}();
